{"version":3,"file":"backbone-lodash.min.js","sources":["backbone-lodash.js"],"names":["root","window","document","backboneFactory","$","_","previousBackbone","Backbone","array","push","slice","splice","VERSION","noConflict","this","emulateHTTP","emulateJSON","Events","on","name","callback","context","eventsApi","_events","events","ctx","once","self","off","apply","arguments","_callback","retain","ev","names","i","l","j","k","keys","length","trigger","args","call","allEvents","all","triggerEvents","stopListening","obj","listeningTo","_listeningTo","remove","_listenId","id","isEmpty","eventSplitter","action","rest","key","concat","test","split","a1","a2","a3","listenMethods","listenTo","listenToOnce","each","implementation","method","uniqueId","bind","unbind","extend","Model","attributes","options","attrs","cid","collection","parse","defaults","result","set","changed","initialize","prototype","validationError","idAttribute","toJSON","clone","sync","get","attr","escape","has","val","unset","changes","silent","changing","prev","current","_validate","_changing","_previousAttributes","isEqual","_pending","clear","hasChanged","changedAttributes","diff","old","previous","previousAttributes","fetch","model","success","resp","wrapError","save","xhr","validate","wait","serverAttrs","isObject","isNew","patch","destroy","url","base","urlError","charAt","encodeURIComponent","constructor","isValid","error","modelMethods","unshift","Collection","models","comparator","_reset","reset","setOptions","add","merge","addOptions","map","singular","isArray","index","indexOf","_removeReference","existing","sort","at","targetModel","sortable","sortAttr","isString","toAdd","toRemove","modelMap","order","_prepareModel","_addReference","orderedModels","previousModels","pop","shift","_byId","where","first","findWhere","Error","sortBy","pluck","invoke","create","_onModelEvent","event","methods","attributeMethods","value","iterator","isFunction","View","pick","viewOptions","_ensureElement","delegateEvents","delegateEventSplitter","tagName","selector","$el","find","render","setElement","element","delegate","undelegateEvents","el","match","eventName","className","type","methodMap","params","dataType","data","contentType","JSON","stringify","_method","beforeSend","setRequestHeader","processData","noXhrPatch","ActiveXObject","ajax","XMLHttpRequest","dispatchEvent","update","delete","read","Router","routes","_bindRoutes","optionalParam","namedParam","splatParam","escapeRegExp","route","isRegExp","_routeToRegExp","router","history","fragment","_extractParameters","navigate","replace","optional","RegExp","exec","param","decodeURIComponent","History","handlers","bindAll","location","routeStripper","rootStripper","isExplorer","trailingSlash","pathStripper","started","interval","getHash","href","getFragment","forcePushState","_hasPushState","_wantsHashChange","pathname","start","hashChange","_wantsPushState","pushState","docMode","documentMode","oldIE","navigator","userAgent","toLowerCase","iframe","hide","appendTo","contentWindow","checkUrl","_checkUrlInterval","setInterval","loc","atRoot","search","hash","replaceState","title","loadUrl","stop","clearInterval","e","any","handler","_updateHash","open","close","assign","protoProps","staticProps","parent","child","Surrogate","__super__","define","amd","module","exports","jQuery","Zepto","ender","require"],"mappings":"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"}